import{m as C,d as E,bo as O,E as I,bq as z,C as $,a as q,$ as n,r as P,c as u,o,w as e,f as s,L as R,h as t,x as U,b as N,P as w,Q as S,O as F,g as r,t as i,B as H,aq as h}from"./index-BAq2SbaD.js";import{_ as Q,a as j}from"./DescriptionsItem-DKDh7Adf.js";function G(){const d=C();function m(l){return d.isLogin?typeof l=="string"?d.userInfo.buttons.includes(l):l.some(c=>d.userInfo.buttons.includes(c)):!1}return{hasAuth:m}}const X=E({name:"function_toggle-auth",__name:"index",setup(d){const m=O(),l=I(),c=C(),B=z(),{hasAuth:f}=G(),{loading:k,startLoading:L,endLoading:v}=$(),x=q(()=>[{key:"super",label:n("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:n("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:n("page.login.pwdLogin.user"),userName:"User",password:"123456"}]),b=P("super");async function D(p){b.value=p.key,L(),await c.login(p.userName,p.password,!1),B.initTabStore(m),v(),l.reloadPage()}return(p,J)=>{const T=F,g=U,A=j,_=H,V=Q,y=R;return o(),u(g,{vertical:"",size:16},{default:e(()=>[s(y,{title:t(n)("route.function_toggle-auth"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(V,{bordered:"",column:1},{default:e(()=>[s(A,{label:t(n)("page.manage.user.userRole")},{default:e(()=>[s(g,null,{default:e(()=>[(o(!0),N(w,null,S(t(c).userInfo.roles,a=>(o(),u(T,{key:a},{default:e(()=>[r(i(a),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(A,{"ions-item":"",label:t(n)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(g,null,{default:e(()=>[(o(!0),N(w,null,S(x.value,a=>(o(),u(_,{key:a.key,loading:t(k)&&b.value===a.key,disabled:t(k)&&b.value!==a.key,onClick:K=>D(a)},{default:e(()=>[r(i(a.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["title"]),s(y,{title:t(n)("page.function.toggleAuth.authHook"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(g,null,{default:e(()=>[t(f)("B_CODE1")?(o(),u(_,{key:0},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):h("",!0),t(f)("B_CODE2")?(o(),u(_,{key:1},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminVisible")),1)]),_:1})):h("",!0),t(f)("B_CODE3")?(o(),u(_,{key:2},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])]),_:1})}}});export{X as default};
